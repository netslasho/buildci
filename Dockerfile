FROM java:8-jdk
RUN buildDeps="automake autoconf unzip bison curl flex g++ libboost-dev libboost-filesystem-dev libboost-program-options-dev libboost-system-dev libboost-test-dev libevent-dev libssl-dev libtool make pkg-config" && apt-get update || true && apt-get install -y --no-install-recommends $buildDeps && git clone https://github.com/slashonet/thrift.git && cd thrift && ./bootstrap.sh && ./configure --disable-libs && make && make install && wget https://github.com/protocolbuffers/protobuf/releases/download/v3.7.1/protobuf-all-3.7.1.tar.gz && tar -zxf protobuf-all-3.7.1.tar.gz && cd protobuf-3.7.1 && ./configure && make && make check && sudo make install && sudo ldconfig
